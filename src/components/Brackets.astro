---
interface Props {
	size?: number;
	class?: string;
}

const { size = 24, class: className } = Astro.props;
---

<div class:list={["spinner-root", className]} style={`width: ${size}px; height: ${size}px;`}>
	<svg
		class="static-frame"
		xmlns="http://www.w3.org/2000/svg"
		fill="none"
		viewBox="0 0 24 24"
		stroke="currentColor"
	>
		<path
			stroke-linecap="round"
			stroke-linejoin="round"
			stroke-width="2"
			d="M10 4H8C6.89543 4 6 4.89543 6 6V10C6 11.1046 5.10457 12 4 12C5.10457 12 6 12.8954 6 14V18C6 19.1046 6.89543 20 8 20H10"
		></path>
		<path
			stroke-linecap="round"
			stroke-linejoin="round"
			stroke-width="2"
			d="M14 4H16C17.1046 4 18 4.89543 18 6V10C18 11.1046 18.8954 12 20 12C18.8954 12 18 12.8954 18 14V18C18 19.1046 17.1046 20 16 20H14"
		></path>
	</svg>

	<div class="anim-wrapper">
		<svg
			class="anim-frame"
			xmlns="http://www.w3.org/2000/svg"
			fill="none"
			viewBox="0 0 24 24"
			stroke="currentColor"
		>
			<path
				class="brace-left"
				stroke-linecap="round"
				stroke-linejoin="round"
				stroke-width="2"
				d="M9 4H7C5.89543 4 5 4.89543 5 6V10C5 11.1046 4.10457 12 3 12C4.10457 12 5 12.8954 5 14V18C5 19.1046 5.89543 20 7 20H9"
			></path>
			<path
				class="brace-right"
				stroke-linecap="round"
				stroke-linejoin="round"
				stroke-width="2"
				d="M15 4H17C18.1046 4 19 4.89543 19 6V10C19 11.1046 19.8954 12 21 12C19.8954 12 19 12.8954 19 14V18C19 19.1046 18.1046 20 17 20H15"
			></path>
		</svg>
	</div>
</div>

<style>
	.spinner-root {
		position: relative;
		display: flex;
		align-items: center;
		justify-content: center;
	}

	.static-frame,
	.anim-wrapper {
		width: 100%;
		height: 100%;
	}

	.static-frame {
		display: block;
		opacity: 1;
		transition: opacity 0.3s ease;
	}

	.anim-wrapper {
		position: absolute;
		inset: 0;
		opacity: 0;
		transition: opacity 0.3s ease;
	}

	.brace-left,
	.brace-right {
		transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
	}

	.brace-left {
		transform: translateX(2px);
	}

	.brace-right {
		transform: translateX(-2px);
	}

	:global(.group:hover) .static-frame {
		opacity: 0;
	}

	:global(.group:hover) .anim-wrapper {
		opacity: 1;
	}

	:global(.group:hover) .brace-left {
		transform: translateX(-2px);
	}

	:global(.group:hover) .brace-right {
		transform: translateX(2px);
	}
</style>
